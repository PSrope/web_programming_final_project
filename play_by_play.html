<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf8">
        <title>Play By Play</title>
        <script src="https://kit.fontawesome.com/9a93ec8ea5.js" crossorigin="anonymous"></script>
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
        <link href="stylesheet/css.css" rel='stylesheet' type='text/css' />
        <link href="stylesheet/gaming.css" rel='stylesheet' type='text/css' />
        <script src="javascript/teams.js"></script>
        <script src="javascript/global_var.js"></script>
        <style>
            .score_board{
                display:table;
                overflow:auto;
                width: 97%;
                height: 100px;
                margin-top: 20px;
                margin-left: 1.5%;
            }
            .innings, .scoreboard, .bases{
                float: left;
                border: 1px black groove;
                width: 31%;
                height: 100%;
            }
            .innings, .scoreboard{
                font-family: fantasy;
                margin-right: calc(5% - 3px);
            }
            .innings {
                font-size: 30px;
                text-align: center;
                width: 10%;
                line-height: 100px;
                margin-left: 5%;
            }
            .scoreboard {
                width: 50%;
                margin-left: 5%;
                text-align: center;
            }
            .score_box {
                height: calc(70% - 2px);
                margin-bottom: 0px;
                font-size: 45px;
                padding-left: calc(49% - 166px);
                line-height: 63px;
            }
            .score_box img {
                height: 65px;
                width: 65px;
            }
            #team1, #team2, #score, #logo1, #logo2{
                float: left;
                margin-right: 15px;
                height: 100%;
            }
            #team1, #team2, #score {
                margin-top: 5px;
                height: 80%;
            }
            #outs {
                height: calc(30% - 2px);
                line-height: 30px;
                font-size: 20px;
            }
            .bases {
                width: 20%;
                border: none;
            }
            #base1, #base2, #base3 {
                width: 46px;
                height: 46px;
                float: left;
                position: relative;
                border-radius: 8px 8px 8px 8px;
                font-size: 50px;
                background-color: lightgray;
                transform:rotate(45deg);
                border: black 1px solid;
            }
     
            #base1 {
                left: 22%;
                top: 42%;
            }
            #base2 {
                left: 22%;
                top: 8%;
                background-color: yellow;
            }
            #base3 {
                left: 22%;
                top: 42%;
            }
            .List_A table, .List_A th, .List_A td {
                color: lightgray;
                text-align: center;
                border: 1px solid #000;
                background-color: rgb(165, 0, 0);
            }
            .List_B table, .List_B th, .List_B td {
                color: lightgray;
                text-align: center;
                border: 1px solid #000;
                background-color: rgb(0, 0, 165);
            }
            .gamePlace {
                position: relative;
                width: 96%;
                height: 65%;
                overflow:visible;
                margin: auto;
            }
            .gamePlace table{
               width: 100%;
               height: 100%;
            }
            .List_A {
                position: absolute;
                width: 20%;
                height: 100%;
                left: 0px;
            }
            .List_B {
                position: absolute;
                width: 20%;
                right: 0px;
                height: 100%;
            }
            #plays {
                width: 50%;
                position: absolute;
                top: 5%;
                bottom: 5%;
                left: 25%;
                height: 90%;
                background-color: rgb(226, 255, 60, 0.8);
                overflow: auto;
                border: black 2px solid;
            }
            #plays_table td{
                vertical-align: top;
            }
            #plays:hover {
                background-color: rgb(226, 255, 60, 1);
            }
            .submit-btn{
                float: right;
                margin-right: 20px;
            }
        </style>
        <script>
            var n_outs = 0;
            var inning = 1;

            function startgame(){
                for(var i = 0;i < 10;i++){
                    var avg = parseInt((teams.batting[determinA+i] + teams.pitching[determinA+i] + teams.fielding[determinA+i]) / 3, 10);
                    document.getElementById("batterListA").innerHTML +=
                    "<tr><td>" + teams.place[determinA+i] + "</td><td>" + teams.name[determinA+i] + "</td><td>" + avg + "</td></tr>";
                }
                for(var i = 0;i < 10;i++){
                    var avg = parseInt((teams.batting[determinB+i] + teams.pitching[determinB+i] + teams.fielding[determinB+i]) / 3, 10);
                    document.getElementById("batterListB").innerHTML += 
                    "<tr><td>" + teams.place[determinB+i] + "</td><td>" + teams.name[determinB+i] + "</td><td>" + avg + "</td></tr>";
                }
                document.getElementById("innings").innerHTML = "1 <i class='fas fa-caret-up'></i>";
                document.getElementById("logo1").innerHTML = "<img src='" + team_choiceA + ".jpg'></div>";
                document.getElementById("logo2").innerHTML = "<img src='" + team_choiceB + ".jpg'></div>";
                document.getElementById("outs").innerHTML = "<i class='far fa-circle'>&nbsp;</i><i class='far fa-circle'></i>&nbsp;&nbsp;outs";
                $("#base1").css("background-color", "lightgray");
                $("#base2").css("background-color", "lightgray");
                $("#base3").css("background-color", "lightgray");
                document.getElementById("plays_table").innerHTML = "<tr><td>比賽開始！！</td></tr>";
            }
            window.addEventListener("load", startgame, false);
        </script>
    </head>

    <body>
        <h1 align="center"><font face="fantasy">Play By Play</font></h1>
        <div id="bgset">
            <div class="score_board">
                <div class="innings" id="innings">
                    1
                    <i class="fas fa-caret-up"></i>
                    <i class="fas fa-caret-down"></i>
                </div>

                <div class="scoreboard">
                    <div class="score_box">
                        <div id="logo1"><img src="CT.gif"></div>
                        <div id="team1" style="color: rgb(165, 0, 0);">R</div>
                        <div id="score">0 ： 0</div>
                        <div id="team2" style="color: rgb(0, 0, 165);">B</div>
                        <div id="logo2"><img src="TC.jpg"></div>
                    </div>

                    <div id="outs">
                        <i class="fas fa-circle"></i>
                        <i class="far fa-circle"></i>
                        &nbsp;&nbsp;outs
                    </div>
                </div>

                <div class="bases">
                    <div id="base3"></div>
                    <div id="base2"></div>
                    <div id="base1"></div>
                </div>
            </div>
            <br>
            <div class="gamePlace">
                <div class="List_A">
                    <table id="batterListA">
                    <th colspan="3">Team RED</th>
                    </table>                
                </div>

                <div id="plays">
                    <table id="plays_table">
                        <tr style="display: none;">
                            <td>安打啦</td>
                        </tr>
                        <tr >
                            <td>安打啦</td>
                        </tr>
                    </table>

                </div>

                <div class="List_B">
                    <table id="batterListB">
                    <th colspan="3">Team BLUE</th>
                    </table>
                </div>
            </div>
            <br>
            <input type="button" value="Next" class="submit-btn2" disabled onclick="result()">
            <input type="button" value="Quick End" class="submit-btn2" onclick="end()">
        </div>
    </body>
</html>
